<!doctype html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/timing.css') }}">
    <title>Timing</title>
</head>
<body>
 <div class="container">
        <form id="dataForm" action="/timing" method="post">

      <label for="date">تاریخ :</label>
      <input type="date" id="date" name="date">

      <label for="start_time">ساعت شروع:</label>
      <input type="time" id="start_time" name="start_time" required>

      <label for="end_time">ساعت پایان:</label>
      <input type="time" id="end_time" name="end_time" required>


      <button type="button" onclick="addRow()">ارسال</button>
    </form>

    <table id="dataTable">
      <thead>
        <tr>
          <th>شماره</th>
          <th>تاریخ</th>
          <th>ساعت شروع</th>
          <th>ساعت پایان</th>
        </tr>
      </thead>
      <tbody>
{% for patient in patient_list %}
        <tr>
            <td>{{timing.id}}</td>
            <td>{{timing.date}}</td>
            <td>{{timing.start_time}}</td>
            <td>{{timing.end_time}}</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <button>Edit</button>
                <button onclick="remove({{patient.id}})">Remove</button>
            </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
<script>

    function remove(id) {
        fetch("/timing?id=" + id, {
            method: "DELETE"
        }).then(() => {
            window.location.replace("/timing");
        })

    }
</script>

</body>
</html>